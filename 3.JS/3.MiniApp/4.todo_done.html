<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        #todo-list li {
            cursor: pointer;
        }
        #todo-list li.done {
            text-decoration: line-through; /*  취소선 */
        }
    </style>
</head>
<body>
    <h1>투두(Todo) 리스트</h1>
    <input id="new-todo" type="text" placeholder="할 일 추가">
    <button id="add-todo">Add</button>
    <hr>
    <ul id="todo-list"></ul>
    <script>
        document.getElementById('add-todo').addEventListener('click', () => {
            const inputBox = document.getElementById('new-todo');
            const todoList = document.getElementById('todo-list');

            if (inputBox.value.trim() === '') return;

            const new_li = document.createElement('li');
            // new_li.textContent = inputBox.value;
            new_li.innerHTML = `${inputBox.value} <button class="delete">삭제</button>`;

            todoList.appendChild(new_li);

            inputBox.value = "";

            //미션2. 완료기능 구현
            //미션2-1. 각 요소마다 클릭 가능한 이벤트를 추가한다
            new_li.addEventListener('click', () => {
                console.log('요소 클릭중');
                new_li.classList.toggle('done');
            });
            //미션2-2. 그 요소를 클릭했을때 디자인 속성을 추가(done)

            const deleteButton = new_li.querySelector('.delete');
            deleteButton.addEventListener('click', () => {
                new_li.remove();
            });

            // document.getElementById('delete').addEventListener('click', () => {  //<-- id는 유일한데 add버튼을누를때마다 같은 id의 버튼이 생성되니까 잘못됨
            //     new_li.remove();
            // })
            
        });

        document.getElementById('new-todo').addEventListener('keydown', (event) => {
            if (event.key === 'Enter') {
                document.getElementById('add-todo').click();
            }
        });

    </script>
</body>
</html>